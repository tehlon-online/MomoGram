<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MomoGram</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        .puzzle-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; margin: 20px; font-size: 24px; font-weight: bold; max-width: 600px; margin-left: auto; margin-right: auto; }
        .word { display: flex; text-decoration: underline; }
        .crypto-letter, .space { }
        .substitution-container { display: grid; grid-template-columns: repeat(6, auto); gap: 10px; justify-content: center; margin-top: 20px; }
        .substitution-box { display: flex; flex-direction: column; align-items: center; gap: 5px; }
        input { width: 20px; text-align: center; font-size: 18px; text-transform: uppercase; }
        .highlight { color: purple; font-style: italic; }
        .correct { color: green; }
        .instruction-box { margin-top: 20px; font-size: 16px; max-width: 600px; margin-left: auto; margin-right: auto; }
    </style>
</head>
<body>
    <h2>MomoGram</h2>
    <div class="puzzle-container" id="puzzle"></div>
    <div class="substitution-container" id="substitution"></div>
    <div class="instruction-box">
        Enter your guesses into the boxes below. The corresponding puzzle letters will update to reflect your guesses in purple.
    </div>

    <script>
        const solutions = [
            "Pizza is always a good idea.", "You had me at tacos.", "I can’t adult today.", "Don’t make me use my dad voice.",
            "Unicorns are real, and so is coffee.", "I’m not arguing, I’m just explaining why I’m right.", "I’m on a seafood diet – I see food and eat it.",
            "I’m a limited edition.", "Too cool for school.", "You had me at bacon.", "Napping is a sport.",
            "I’m not short, I’m just vertically challenged.", "The Wi-Fi is strong with this one.", "Just one more episode... okay, five.",
            "I’m silently correcting your grammar.", "I’m allergic to mornings.", "First I drink the coffee, then I do the things.",
            "I put the “pro” in procrastinate.", "My dog is my therapist.", "I’m not a morning person, I’m a coffee person.",
            "Ice cream solves everything.", "My spirit animal is a sloth.", "I don’t need an inspirational quote, I need a nap.",
            "Can I have a side of fries with that attitude?", "Will work for chocolate.", "I’m too old for this nonsense.",
            "I speak fluent movie quotes.", "I’m here for the snacks.", "You can’t scare me, I have kids.",
            "I don’t need Google, my wife knows everything.", "I came. I saw. I made it awkward.", "Adulting is hard. Send help.",
            "I’m just here for the snacks.", "I don’t have an attitude problem, I have an “I’m right” problem.",
            "Sorry for the mean, awful, accurate things I said.", "I’m the human version of a double rainbow.", "I’m not weird, I’m limited edition.",
            "I can’t help it, I’m fabulous.", "I’m like a squirrel – I get distracted easily.", "You can’t buy happiness, but you can buy ice cream.",
            "I’m on a seafood diet. I see food, and I eat it.", "I’m so bright, my mother calls me son.", "Running late is my cardio.",
            "Is it too late to be good?", "My hobbies include eating and complaining about being full.", "If you were a vegetable, you’d be a cute-cumber.",
            "I’m not a morning person, or an afternoon person.", "If you can read this, I’ll trade you a snack.", "It’s not a dad bod, it’s a father figure.",
            "I’m not arguing, I’m just passionately expressing my point.", "Can we skip to the part where I eat pizza?", "I’m not lazy, I’m just conserving energy.",
            "I’m too busy to be this busy.", "I work out – just kidding, I take naps.", "I wish my wallet came with a pause button.",
            "I’m not ignoring you, I’m just on my third nap of the day.", "I’d agree with you, but then we’d both be wrong.",
            "I told my computer I needed a break, now it won’t stop playing music.", "I need six months of vacation, twice a year.",
            "Everything I eat is a salad if I say it is.", "I’m the boss of me.", "Just once, I’d like to meet someone who doesn’t want to talk about the weather.",
            "I’m secretly a ninja.", "My brain has too many tabs open.", "I’m not arguing, I’m just explaining why I’m always right.",
            "Did you just say “donut”?", "Don’t talk to me until I’ve had my coffee.", "I am on a 30-day diet. So far, I’ve lost 15 days.",
            "If I’m not texting you back, it’s because I’m too busy living my best life.", "I’m not great at the advice. Can I interest you in a sarcastic comment?",
            "I’m not procrastinating. I’m prioritizing other things.", "Why be moody when you can shake your booty?",
            "I’m only on the second chapter of my self-help book, but I’m already solving the world’s problems.", "This meeting is sponsored by caffeine.",
            "Running late is my cardio.", "I’m a professional over-thinker.", "I’m sorry I’m late, I didn’t want to come.",
            "Never trust an atom, they make up everything.", "My life’s a joke, and I’m the punchline.", "I’m not short, I’m concentrated awesome.",
            "Life’s too short to be serious all the time.", "I may be a mess, but I’m a hot mess.", "Let’s taco ‘bout it!",
            "Don’t judge me by my mistakes, judge me by how much pizza I’ve eaten.", "Please don’t make me use my indoor voice.",
            "I’m just here for the cookies.", "If life gives you lemons, make lemonade. Then find someone whose life gave them vodka.",
            "I’m sorry, I can’t hear you over the sound of my awesomeness.", "Let me eat my snacks in peace.", "I’m too old for this nonsense.",
            "The early bird can have the worm; I’m still in bed.", "You’re never fully dressed without a smile.", "I would agree with you, but then we’d both be wrong.",
            "I’m multitasking: I can listen, ignore, and forget at the same time.", "I don’t do mornings.", "I came. I saw. I made it awkward.",
            "A balanced diet is a cookie in each hand.", "Never trust a skinny cook.", "If you’re happy and you know it, go eat cake.",
            "My favorite hobby is lying about how much I work out.", "Don’t judge me by my mistakes; judge me by how much pizza I can eat.",
            "I’m just here for the naps.", "I’m currently experiencing life at 9% battery.", "I’m not lazy, I’m on energy-saving mode.",
            "This is why we can’t have nice things.", "I’m not saying I’m Batman, but have you ever seen us in the same room?",
            "I’m too cool for you, but I’ll make an exception.", "I don’t have a solution, but I admire your problem.",
            "If I’m not responding, it’s because I’m too busy being fabulous.", "I am the queen of doing nothing.",
            "I don’t always make mistakes, but when I do, it’s spectacular.", "I’m not arguing. I’m just passionately explaining why I’m right.",
            "I don’t need a mood ring, I need a nap.", "Everything I say is a joke, except for the things that are funny.",
            "I'm in shape. Unfortunately, it’s the shape of a potato.", "I don’t suffer from insanity; I enjoy every minute of it.",
            "I’m convinced my soul animal is a sloth.", "Don’t be eye candy. Be soul food.", "I didn’t choose the lazy life. The lazy life chose me.",
            "I’m only half awake right now."
        ];

        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

        // Function to shuffle an array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Function to generate the encrypted text dynamically
        function generateEncryptedText(solution) {
            const shuffledAlphabet = shuffle([...alphabet]);
            const mapping = {};
            let index = 0;

            solution.split('').forEach(char => {
                if (char.match(/[A-Z]/)) {
                    if (!mapping[char]) {
                        // Ensure unique mapping for each letter
                        while (shuffledAlphabet[index] === char) {
                            index++;
                        }
                        mapping[char] = shuffledAlphabet[index];
                        index++;
                    }
                }
            });

            return solution.split('').map(char => {
                return char.match(/[A-Z]/) ? mapping[char] : char;
            }).join('');
        }

        // Select a random solution
        const correctSolution = solutions[Math.floor(Math.random() * solutions.length)].toUpperCase();
        const encryptedText = generateEncryptedText(correctSolution); // Encrypted text

        function createPuzzle() {
            const puzzleContainer = document.getElementById("puzzle");
            const words = encryptedText.split(' ').map(word => 
                `<div class="word">${word.split('').map(char => char.match(/[A-Z]/) ? `<span class="crypto-letter" data-original="${char}">${char}</span>` : (char === "'" ? `<span class="crypto-letter" data-original="'">'</span>` : `<span class="space">&nbsp;</span>`)).join('')}</div>`
            ).join('<span class="space">&nbsp;</span>');
            puzzleContainer.innerHTML = words;
        }

        function createSubstitutionBoxes() {
            const substitutionContainer = document.getElementById("substitution");
            substitutionContainer.innerHTML = alphabet.map(letter => 
                `<div class="substitution-box"><div>${letter}</div><input maxlength="1" data-crypto="${letter}" oninput="updatePuzzle(this)"></div>`
            ).join('');
        }

        function updatePuzzle(input) {
            const solutionLetter = input.value.toUpperCase();
            const cryptoLetter = input.getAttribute("data-crypto");

            // Select all crypto letters in the puzzle and update
            const puzzleLetters = document.querySelectorAll('.crypto-letter');
            let correctCount = 0;

            puzzleLetters.forEach((letter, index) => {
                if (letter.getAttribute("data-original") === cryptoLetter) {
                    if (solutionLetter) {
                        letter.textContent = solutionLetter;
                        letter.classList.add('highlight');
                    } else {
                        letter.textContent = cryptoLetter;
                        letter.classList.remove('highlight');
                    }
                }
                // Check if current letter matches the correct solution
                if (letter.textContent === correctSolution[index]) {
                    correctCount++;
                }
            });

            // Check if the entire puzzle is correctly solved
            if (correctCount === correctSolution.length) {
                puzzleLetters.forEach(letter => {
                    letter.classList.remove('highlight');
                    letter.classList.add('correct');
                });
            } else {
                puzzleLetters.forEach(letter => {
                    letter.classList.remove('correct');
                });
            }
        }

        createPuzzle();
        createSubstitutionBoxes();
    </script>
</body>
</html>